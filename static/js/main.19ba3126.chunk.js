(this.webpackJsonpreactloginproject=this.webpackJsonpreactloginproject||[]).push([[0],{39:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),i=a(32),o=a.n(i),c=(a(39),a(8)),l=a(9),d=a(11),u=a(10),g=a(3),h=a(13),j=a.n(h),b=a(16),m=a(2),p=a(17),O=a.n(p),x=a(67),f=r.a.createContext(),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={LoginEmail:"",LoginPassword:"",RegisterUsername:"",RegisterEmail:"",RegisterPassword:"",ConfirmPassword:"",CharacterLength:!1,CapitalLetter:!1,SpecialSymbol:!1,UserPosts:[],UserPost:"",RegisterButtonDisabled:!1,InvalidCharacterLength:"",InvalidSpecialSymbol:"",InvalidCapitalLetter:"",InvalidConfirmPassword:"",InvalidConfirmPasswordWarning:"none",RegistrationError:"",RegisterAccountSuccess:!1,LoginFailedWarning:!1,UserID:"",UserUsername:"",Loading:!1,Redirect:!1,LoginFailedText:"Login Failed"},e.loginEmailChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginEmail:a}))},e.loginPasswordChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginPassword:a}))},e.registerUsernameChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{RegisterUsername:a}))},e.registerEmailChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{RegisterEmail:a}))},e.registerPasswordChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{RegisterPassword:a,CharacterLength:e.state.RegisterPassword.length>=8,CapitalLetter:!(!0!==/[A-Z]/.test(e.state.RegisterPassword)||e.state.RegisterPassword.length<=1),SpecialSymbol:!(!0!==/(?=.*[!@#$%^&*])/.test(e.state.RegisterPassword)||e.state.RegisterPassword.length<=1)}))},e.confirmPasswordChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{ConfirmPassword:a}))},e.registerformSubmit=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidCharacterLength:"",InvalidSpecialSymbol:"",InvalidCapitalLetter:"",InvalidConfirmPassword:"",InvalidConfirmPasswordWarning:"none",RegisterAccountSuccess:!1})),n=e.state.RegisterPassword===e.state.ConfirmPassword,!(e.state.SpecialSymbol&&e.state.CharacterLength&&e.state.CapitalLetter&&n)){t.next=10;break}return t.next=6,O.a.post("https://immense-fjord-31204.herokuapp.com/Register",{registerUsername:e.state.RegisterUsername,registerEmail:e.state.RegisterEmail,registerPassword:e.state.RegisterPassword}).then((function(t){e.setState({RegisterAccountSuccess:!0,RegisterUsername:"",RegisterEmail:"",RegisterPassword:"",ConfirmPassword:"",CharacterLength:!1,CapitalLetter:!1,SpecialSymbol:!1})})).catch((function(t){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidConfirmPasswordWarning:"",RegistrationError:"User Already Exists"}))}));case 6:return s=t.sent,t.abrupt("return",s);case 10:e.state.SpecialSymbol||e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidSpecialCharacter:"1px solid Red"})),e.state.CharacterLength||e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidCharacterLength:"1px solid Red"})),e.state.CapitalLetter||e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidCapitalLetter:"1px solid Red"})),n||e.setState(Object(m.a)(Object(m.a)({},e.state),{},{InvalidConfirmPassword:"3px solid Red",InvalidConfirmPasswordWarning:"",RegistrationError:"Password doesn't match"}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loginFormSubmit=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginFailedWarning:!1,LoginFailedText:"Login Failed"})),e.state.LoginEmail){t.next=6;break}e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginFailedText:"Login Failed, No Email",LoginFailedWarning:!0,LoginEmail:"",LoginPassword:""})),t.next=13;break;case 6:if(e.state.LoginPassword){t.next=10;break}e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginFailedText:"Login Failed, No Password",LoginFailedWarning:!0,LoginEmail:"",LoginPassword:""})),t.next=13;break;case 10:return t.next=12,O.a.post("https://immense-fjord-31204.herokuapp.com/Login",{auth:{loginEmail:e.state.LoginEmail,loginPassword:e.state.LoginPassword}}).then((function(t){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginEmail:"",LoginPassword:"",UserID:t.data.id,UserUsername:t.data.username,Loading:!0,LoginFailedWarning:!1,UserPosts:t.data.posts})),window.sessionStorage.setItem("id",JSON.stringify(e.state.UserID)),window.sessionStorage.setItem("token",JSON.stringify(t.data.token)),e.props.history.push("/Login/User")})).catch((function(t){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginFailedWarning:!0,LoginEmail:"",LoginPassword:""}))}));case 12:t.sent;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.inputPostChange=function(t){var a=t.target.value;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{UserPost:a}))},e.addPostSubmit=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,s,r,i,o,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=window.sessionStorage.getItem("id"),s=window.sessionStorage.getItem("token"),r=JSON.parse(n),i=JSON.parse(s),o={id:Object(x.a)(),post:e.state.UserPost},t.next=8,O.a.put("https://immense-fjord-31204.herokuapp.com/Login/User/".concat(r),{headers:{"Content-Type":"application/json","x-auth-token":i},params:{post:o}}).then((function(t){t&&e.setState(Object(m.a)(Object(m.a)({},e.state),{},{UserPosts:t.data,UserPost:""}))})).catch((function(e){console.log(e)}));case 8:return c=t.sent,t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deletePostClick=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,s,r,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.sessionStorage.getItem("id"),s=window.sessionStorage.getItem("token"),r=JSON.parse(n),i=JSON.parse(s),t.next=6,O.a.delete("https://immense-fjord-31204.herokuapp.com/Login/User/".concat(r),{headers:{"Content-Type":"application/json","x-auth-token":i},data:{deletePost:a}}).then((function(t){t&&e.setState(Object(m.a)(Object(m.a)({},e.state),{},{UserPosts:t.data}))})).catch((function(e){console.log(e)}));case 6:return o=t.sent,t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeRegisterAccountSuccessClick=function(){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{RegisterAccountSuccess:!1}))},e.closeLoginFailedWarningClick=function(){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{LoginFailedWarning:!1}))},e.getUserData=Object(b.a)(j.a.mark((function t(){var a,n,s,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=window.sessionStorage.getItem("id"),n=window.sessionStorage.getItem("token"),s=JSON.parse(a),r=JSON.parse(n)){t.next=8;break}e.props.history.push("/Login"),t.next=12;break;case 8:return t.next=10,O.a.get("https://immense-fjord-31204.herokuapp.com/Login/User/".concat(s),{headers:{"Content-Type":"application/json","x-auth-token":r}}).then((function(t){t&&e.setState(Object(m.a)(Object(m.a)({},e.state),{},{UserID:t.data.id,UserUsername:t.data.username,UserPosts:t.data.posts}))})).catch((function(t){console.log(t),e.props.history.push("/Login")}));case 10:return i=t.sent,t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)}))),e.logOutClick=function(){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{UserID:"",UserUsername:"",UserPosts:""})),window.sessionStorage.removeItem("id"),window.sessionStorage.removeItem("token"),e.props.history.push("/ReactLoginProject")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(f.Provider,{value:{state:this.state,loginEmailChange:this.loginEmailChange,loginPasswordChange:this.loginPasswordChange,registerUsernameChange:this.registerUsernameChange,registerEmailChange:this.registerEmailChange,registerPasswordChange:this.registerPasswordChange,confirmPasswordChange:this.confirmPasswordChange,registerformSubmit:this.registerformSubmit,loginFormSubmit:this.loginFormSubmit,inputPostChange:this.inputPostChange,addPostSubmit:this.addPostSubmit,deletePostClick:this.deletePostClick,closeRegisterAccountSuccessClick:this.closeRegisterAccountSuccessClick,closeLoginFailedWarningClick:this.closeLoginFailedWarningClick,getUserData:this.getUserData,logOutClick:this.logOutClick},children:this.props.children})}}]),a}(r.a.Component),v=Object(g.f)(C),w=a(14),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"HomePageContainerStyle",children:[Object(n.jsx)("h1",{children:"Welcome!"}),Object(n.jsxs)("div",{className:"LinkContainerStyle",children:[Object(n.jsx)("div",{className:"LinkDivStyle",children:Object(n.jsx)(w.b,{to:"/Register",className:"CreateAccountLink",children:"Create Account"})}),Object(n.jsx)("div",{className:"LinkDivStyle",children:Object(n.jsx)(w.b,{to:"/Login",className:"LoginLink",children:"Login"})})]})]})}}]),a}(r.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{display:this.context.state.RegisterAccountSuccess?"":"none"},className:"container alert alert-success RegisterAccountCreatedAlert",children:["Account Created",Object(n.jsx)("button",{onClick:this.context.closeRegisterAccountSuccessClick,className:"btn-close "})]}),Object(n.jsxs)("form",{onSubmit:function(t){return e.context.registerformSubmit(t)},className:"container CreateAccountForm",children:[Object(n.jsx)("label",{children:"UserName"}),Object(n.jsx)("input",{onChange:function(t){return e.context.registerUsernameChange(t)},htmlFor:"UserName",type:"text",required:!0,name:"RegisterUsername",value:this.context.state.RegisterUsername,placeholder:"Enter Username"}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{onChange:function(t){return e.context.registerEmailChange(t)},htmlFor:"Email",type:"email",required:!0,name:"RegisterEmail",value:this.context.state.RegisterEmail,placeholder:"Enter Email"}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{onChange:function(t){return e.context.registerPasswordChange(t)},htmlFor:"Password",type:"password",required:!0,name:"RegisterPassword",value:this.context.state.RegisterPassword,placeholder:"Enter Password"}),Object(n.jsxs)("ul",{className:"CreateAccountUl",children:[Object(n.jsx)("li",{style:{textDecoration:this.context.state.CharacterLength?"line-through":"",border:this.context.state.InvalidCharacterLength},children:"Password Must be at least 8 characters long"}),Object(n.jsx)("li",{style:{textDecoration:this.context.state.CapitalLetter?"line-through":"",border:this.context.state.InvalidCapitalLetter},children:"Must include a Capital letter"}),Object(n.jsx)("li",{style:{textDecoration:this.context.state.SpecialSymbol?"line-through":"",border:this.context.state.InvalidSpecialCharacter},children:"Must include a symbol ex. !,@,#,$,%,^,&,*"})]}),Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{style:{border:this.context.state.InvalidConfirmPassword},onChange:function(t){return e.context.confirmPasswordChange(t)},htmlFor:"ConfirmPassword",type:"password",required:!0,name:"ConfirmPassword",value:this.context.state.ConfirmPassword,placeholder:"Confirm Password"}),Object(n.jsx)("p",{className:"RegisterConfirmPasswordError",style:{display:this.context.state.InvalidConfirmPasswordWarning},children:this.context.state.RegistrationError}),Object(n.jsx)("button",{className:"btn-primary",type:"Submit",children:"Create Account"})]})]})}}]),a}(r.a.Component);S.contextType=f;var L=S,y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:function(t){return e.context.loginFormSubmit(t)},className:"container CreateAccountForm",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{onChange:function(t){return e.context.loginEmailChange(t)},htmlFor:"Email",type:"email",required:!0,name:"LoginEmail",value:this.context.state.LoginEmail,placeholder:"Enter Email"}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{onChange:function(t){return e.context.loginPasswordChange(t)},htmlFor:"Password",type:"password",required:!0,name:"LoginPassword",value:this.context.state.LoginPassword,placeholder:"Enter Password"}),Object(n.jsx)("button",{className:"btn-primary",type:"Submit",children:"Login"})]}),Object(n.jsxs)("div",{style:{display:this.context.state.LoginFailedWarning?"":"none"},className:"container alert alert-danger LoginFailedAlert",children:[this.context.state.LoginFailedText,Object(n.jsx)("button",{onClick:this.context.closeLoginFailedWarningClick,className:"btn-close "})]})]})}}]),a}(r.a.Component);y.contextType=f;var k=y,U=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.context.getUserData()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar UserNav",children:[Object(n.jsxs)("h1",{className:"navbar-brand",children:["Hello ",this.context.state.UserUsername]}),Object(n.jsx)("button",{onClick:this.context.logOutClick,className:"btn-danger",children:"Logout"})]}),Object(n.jsxs)("form",{onSubmit:function(t){return e.context.addPostSubmit(t)},className:" UserInputDivContainer",children:[Object(n.jsx)("input",{onChange:function(t){return e.context.inputPostChange(t)},name:"UserPost",type:"text",placeholder:"Enter posts",value:this.context.state.UserPost}),Object(n.jsx)("button",{type:"Submit",className:"btn-primary",children:"Add Post"})]}),Object(n.jsx)("ul",{className:"container UserPostList",children:this.context.state.UserPosts.map((function(t){return Object(n.jsxs)("li",{className:"UserPostListItem",children:[t.post,Object(n.jsx)("button",{onClick:function(a){return e.context.deletePostClick(t.id)},children:"X"})]},t.id)}))})]})}}]),a}(r.a.Component);U.contextType=f;var R=U;function E(){return Object(n.jsx)("div",{style:{textAlign:"center"},className:"container",children:Object(n.jsx)("h1",{children:"404: Page not found"})})}a(64);var I=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(v,{children:Object(n.jsxs)(g.c,{children:[Object(n.jsx)(g.a,{exact:!0,path:"/ReactLoginProject",children:Object(n.jsx)(P,{})}),Object(n.jsx)(g.a,{path:"/Register",children:Object(n.jsx)(L,{})}),Object(n.jsx)(g.a,{exact:!0,path:"/Login",children:Object(n.jsx)(k,{})}),Object(n.jsx)(g.a,{path:"/Login/User",children:Object(n.jsx)(R,{})}),Object(n.jsx)(g.a,{path:"",children:Object(n.jsx)(E,{})})]})})})}}]),a}(r.a.Component);I.contextType=f;var N=I;o.a.render(Object(n.jsx)(w.a,{children:Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.19ba3126.chunk.js.map